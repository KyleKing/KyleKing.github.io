(function(){Template.bikeshare.onRendered(function(){var e;return e=new juxtapose.JXSlider("#website",[{src:"pdf/1.png",label:"Second Iteration"},{src:"pdf/1-macaw.png",label:"Third Iteration"}],{animate:!0,showLabels:!0,showCredits:!1,startingPosition:"50%",makeResponsive:!0})}),Template.bikeshare.rendered=function(){var e,o,a,n;return this.subscribe("DailyBikeDataPub"),MapInit({MapName:"DemoMap",LocateUser:!1,DrawOutline:!1,Center:[38.987701,-76.940989],ShowClosestBikes:!1,FullScreenButton:!1,PopupGuide:"I'm a bike!",ShowBikeRacksMarkerToggle:!1}),window.DemoMap.touchZoom.disable(),window.DemoMap.scrollWheelZoom.disable(),e=[],a=CurrentDay(),n=a[0],o=a[1],window.MapObserveHandle=DailyBikeData.find({}).observe({added:function(a){var i,r;return r=[Number(a.Coordinates.Lat),a.Coordinates.Lng],i=IconLogic(a.Tag),e[a._id]=L.marker(r,{title:a.Bike,opacity:.75,icon:i}).on("click",function(e){var a,i,t;return t=CurrentDay(),n=t[0],o=t[1],a=e.target.options.title,Session.set({selectedBike:a,available:!1}),i=DailyBikeData.findOne({Bike:a}).Coordinates,r=[Number(i.Lat),Number(i.Lng)],window.DemoMap.panTo(r,18)}).addTo(window.DemoMap)},changed:function(o,a){var n;return n=[Number(o.Coordinates.Lat),Number(o.Coordinates.Lng)],e[o._id].setLatLng(n).update(),"Reserved"===o.Tag?(e[o._id].setIcon(window.Reserved),console.log("Changed to reserved icon for # "+o.Bike)):"RepairInProgress"===o.Tag?(e[o._id].setIcon(window.Damaged),console.log("Changed to damaged icon for # "+o.Bike)):"Available"===o.Tag?(e[o._id].setIcon(window.Available),console.log("Changed to gray icon color for # "+o.Bike)):console.log(o.Tag)},removed:function(o){return window.DemoMap.removeLayer(e[o._id]),delete e[o._id]}})},Template.bikeshare.events({"click #DeleteOldBikes":function(){return Meteor.call("DeleteOldBikes")}})}).call(this);
//# sourceMappingURL=./bikeshare.js.map