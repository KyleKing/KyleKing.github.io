{"version":3,"sources":["../../src/layout.coffee"],"names":["closePanel","createFullURL","defaultID","getIDFromURL","showESCTooltip","startJuxtapose","id","arguments","length","undefined","slider","sliderTwo","console","log","document","getElementById","juxtapose","JXSlider","src","label","animate","showLabels","showCredits","startingPosition","makeResponsive","homeURL","$","removeClass","window","location","protocol","host","title","history","pushState","pageTitle","fullURL","newURL","targetContent","targetHeader","innerHTML","get","data","appendChild","find","html","m","regex","exec","pathname","addClass","setTimeout","ready","click","event","currentTarget","error","target","is","mouseover","onkeydown","evt","keyCode","onpopstate","e","state","JSON","stringify"],"mappings":"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","sourcesContent":["defaultID = \"Kyle King's Portfolio\"\n\nstartJuxtapose = (id = null) ->\n  console.log 'Checking Juxtapose id: ' + id\n\n  if (document.getElementById('bead-bed') != null || id == 'microfluidics')\n    console.log 'Starting Microfluidics\\' JS Slider'\n    slider = new (juxtapose.JXSlider)('#bead-bed', [\n      {\n        src: '../public/imgs/Microfluidics/microfluidics-21.jpg'\n        label: 'Prior to Heating'\n      }\n      {\n        src: '../public/imgs/Microfluidics/microfluidics-22.jpg'\n        label: 'After Heating'\n      }\n    ], {\n      animate: true\n      showLabels: true\n      showCredits: false\n      startingPosition: '60%'\n      makeResponsive: true\n    })\n\n  if (document.getElementById('web-clock') != null || id == 'extensions')\n    console.log 'Starting Extensions\\' JS Slider'\n    sliderTwo = new (juxtapose.JXSlider)('#web-clock', [\n      {\n        src: '../public/imgs/Extensions/extension-before.jpg'\n        label: 'Standard UI'\n      }\n      {\n        src: '../public/imgs/Extensions/extension-after.jpg'\n        label: 'With Chrome Extension'\n      }\n    ], {\n      animate: true\n      showLabels: true\n      showCredits: false\n      startingPosition: '50%'\n      makeResponsive: true\n    })\n\nclosePanel = ->\n  console.log 'Closing Panel'\n  $('.cd-panel').removeClass 'is-visible'\n  $('body').removeClass 'noscroll'\n  # Remove tool tip as well\n  $('.cd-panel-tooltip').removeClass 'visible'\n  $('.tooltip-arrow-right').removeClass 'visible'\n  homeURL = window.location.protocol + \"//\" + window.location.host + '/'\n  document.title = defaultID\n  window.history.pushState({\n    \"pageTitle\": defaultID\n  }, '', homeURL)\n\ncreateFullURL = (id) ->\n  # Figure out the URL\n  newURL = window.location.protocol + \"//\" + window.location.host + '/'\n  fullURL = newURL + 'pages/' + id + '.html'\n  # Replace HTML content with the content of the desired state\n  targetContent = document.getElementById(\"Slide-In-Panel-Content\")\n  targetHeader = document.getElementById(\"Slide-In-Panel-Header\")\n  targetContent.innerHTML = ''\n  targetHeader.innerHTML = ''\n  $.get fullURL, (data) ->\n    targetContent.appendChild $(data).find(\"#Slide-In-Panel-Content\")[0]\n    targetHeader.appendChild $(data).find(\"#Slide-In-Panel-Header\")[0]\n\n  # Update the route, so a refresh opens the complete page\n  document.title = id\n  window.history.pushState({\n    \"html\": 'response.html'\n    \"pageTitle\": id\n  }, \"\", fullURL)\n\n  startJuxtapose(id)\n  return fullURL\n\ngetIDFromURL = ->\n  regex = /\\/pages\\/(.*)\\.html/g\n  m = regex.exec(window.location.pathname)\n  if (m != null)\n    id = m[1]\n  else\n    id = defaultID\n  return id\n\nshowESCTooltip = ->\n  # Show the tool tip on hover:\n  $('.cd-panel-tooltip').addClass 'visible'\n  $('.tooltip-arrow-right').addClass 'visible'\n  # Remove tool tip on timeout:\n  setTimeout (->\n    $('.cd-panel-tooltip').removeClass 'visible'\n    $('.tooltip-arrow-right').removeClass 'visible'\n  ), 2000\n\n$( document ).ready(->\n  # Initialization\n  if (window.location.pathname != '/')\n    # If not on the home page, show the linked panel:\n    id = getIDFromURL()\n    document.title = id\n    $('.cd-panel').addClass 'is-visible'\n    $('body').addClass 'noscroll'\n    showESCTooltip()\n    startJuxtapose(id)\n\n  # Watch for card click to open corresponding panel\n  $( \".card-container\" ).click (event) ->\n    id = event.currentTarget.id\n    console.log 'Clicked .card-container for id: ' + id\n    if id\n      createFullURL(id)\n      $('.cd-panel').addClass 'is-visible'\n      $('body').addClass 'noscroll'\n    else\n      console.error('No known id to act upon...')\n\n  # Close the panel on click\n  $( \".cd-panel\" ).click (event) ->\n    if $(event.target).is('.cd-panel') or $(event.target).is('.cd-panel-close')\n      closePanel()\n\n  # Tell user of esc button functionality:\n  $( \".cd-panel-header\" ).mouseover (event) ->\n    console.log 'Hovering on .cd-panel-close'\n    showESCTooltip()\n)\n\n# Watch for ESC button press\ndocument.onkeydown = (evt) ->\n  evt = evt or window.event\n  if evt.keyCode == 27\n    console.log 'ESC key pressed!'\n    closePanel()\n\n# On Back Button, close panel\nwindow.onpopstate = (e) ->\n  if (e.state)\n    console.log 'Back Event State: ' + JSON.stringify(e.state)\n  closePanel()\n"]}